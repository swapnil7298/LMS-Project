{% extends "base.html" %}
{% block title %}Summary{% endblock %}
{% block content %}
<section class="page-section">
    <div class="container">
        <div class="page-header">
            <h1>AI Summary for "{{ material.title }}"</h1>
            <a href="{{ url_for('course_detail', course_id=material.course_id) }}" class="btn btn-secondary">Back to Course</a>
        </div>
        <div class="analytics-card">
            <h3>Generated Summary</h3>
            
            {# Check if an error message was passed from the backend #}
            {% if error %}
                <div class="alert alert-danger">
                    <strong>Error:</strong> {{ error }}
                </div>
            
            {# Check if a summary was successfully generated #}
            {% elif summary %}
                <p style="white-space: pre-wrap; line-height: 1.6;">{{ summary }}</p>
            
            {# Fallback message (should not be seen if backend works correctly) #}
            {% else %}
                <p class="text-muted">No summary could be generated for this document.</p>
            {% endif %}

        </div>
    </div>
</section>
{% endblock %}